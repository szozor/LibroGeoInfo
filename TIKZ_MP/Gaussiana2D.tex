\begin{tikzpicture}[scale=.8]
\shorthandoff{>}
%
%\pgfmathsetmacro{\sx}{.75};% x-scaling
%\pgfmathsetmacro{\mx}{3.5};% x maximo del plot
\pgfmathsetmacro{\a}{.25};% x-scaling
\pgfmathsetmacro{\t}{30};% angulo de rotacion
\pgfmathsetmacro{\c}{cos(\t)};% coseno
\pgfmathsetmacro{\s}{sin(\t)};% seno
\pgfmathsetmacro{\su}{sqrt(\c^2+(\a*\s)^2)};% ecart-type 1
\pgfmathsetmacro{\sd}{sqrt(\s^2+(\a*\c)^2)};% ecart-type 2
\pgfmathsetmacro{\dx}{2.45};% dominio x del plot -dx:dx
\pgfmathsetmacro{\dy}{2.05};% dominio y del plot -dy:dy
%
% Approximation de la cdf gaussienne
%\tikzset{declare function={
%normcdf(\x)=1/(1 + exp(-0.07056*(\x)^3 - 1.5976*(\x)));
%}}
% densidad
%\begin{scope}
%
%\pgfmathsetmacro{\sy}{5*pi};% y-scaling 
%\draw[>=stealth,->] ({-\sx*\mx-.25},0)--({\sx*\mx+.25},0) node[right]{\small $x$};
%\draw[>=stealth,->] (0,-.1)--(0,2.75) node[above]{\small $p_X$};
%
\begin{axis}[
    colormap = {whiteblack}{color(0cm)  = (white);color(1cm) = (black)},
    width=\textwidth,
    view={45}{65},
    enlargelimits=false,
    %grid=major,
    domain=-\dx:\dx,
    y domain=-\dy:\dy,
    color=black,
    samples=80,
    xlabel=$x_1$,
    ylabel=$x_2$,
    zlabel=$p_X$,
]
%
% Gaussiana 2D
\addplot3 [surf] {exp(-.5*((\c*x+\s*y)^2+((-\s*x+\c*y)/\a)^2))/(2*pi*\a)};
%
% Marginales
\addplot3 [domain=-\dx:\dx,samples=51, samples y=0, thick, smooth, color=black] (x,\dy,{exp(-.5*(x/\su)^2)/sqrt(2*pi)/\su});
\addplot3 [domain=-\dy:\dy,samples=51, samples y=0, thick, smooth, color=black] (-\dx,x,{exp(-.5*(x/\sd)^2)/sqrt(2*pi)/\sd});
%
\node at (axis cs:{\dx/5},\dy,{exp(-.5*(\dx/5/\su)^2)/sqrt(2*pi)/\su})[above right]{$p_{X_1}$};
\node at (axis cs:-\dx,{\dy/5},{exp(-.5*(\dy/5/\sd)^2)/sqrt(2*pi)/\sd})[above right]{$p_{X_2}$};
\end{axis}
%
%\end{scope}
%
%
% reparticion
%\begin{scope}[xshift=8.5cm]
%
%\pgfmathsetmacro{\sy}{2.5};% y-scaling 
%
%\draw[>=stealth,->] ({-\sx*\mx-.25},0)--({\sx*\mx+.25},0) node[right]{\small $x$};
%\draw[>=stealth,->] (0,-.1)--(0,{\sy+.25}) node[above]{\small $F_X$};
%
% cumulativa
%\draw[thick,domain=-\mx:\mx,samples=100] plot({\x*\sx},{\sy*normcdf(\x)});
%
%\draw (0,\sy)--(-.1,\sy) node[left,scale=.7]{$1$};
%\end{scope}
%
\end{tikzpicture}